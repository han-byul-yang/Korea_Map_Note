# :pushpin: world map note
방문한 위치에 마커로 나만의 노트를 남기는 메모 지도 사이트

## 1. 배포 사이트
https://korea-map-note.netlify.app

## 2. 제작 기간 & 참여 인원
- 2022년 ~~
- 개인 프로젝트

## 3. 사용 기술 및 라이브러리
- react v18
- typescript
- **라우팅**
  - react-router-dom v6
- **스타일**
   - scss
   - css module
- **상태 관리**
  - recoil
- **코딩 컨벤션**
   - eslint
   - prettier
   - stylelint
- **api**
   - axios
   - tanstack-query
- **auth**
   - firebase v9
- **기타**
   - react-kakao-maps-sdk
   - react-slick
   - dayjs
   - react-datepicker

## 4. Project Tree
<details>
<summary>preject tree 펼치기</summary>
<div markdown="1">

</div>
</details>

## 5. 화면 예시
<details>
<summary>화면 예시 펼치기</summary>
<div markdown="2">

### 5.1 로그인/회원가입
#### 5.1.1 회원가입
/사진 
- 이메일과 `최소 한 개 이상의 문자와 숫자로 8자 이상의 비밀번호`를 입력하고 회원가입 버튼을 누르면 회원가입이 된다. 이후 자동으로 로그인이 된 후, 지도 노트 메인 화면으로 이동한다. 
- 가입 이메일이 이미 있는 경우 에러 메세지 모달을 띄워준다. 
- 가입 과정에서 오류가 있는 경우 에러 메세지 모달을 띄워준다. 

#### 5.1.2 로그인
/사진
- 회원가입한 이메일 및 비밀번호를 입력하면 지도 노트 화면으로 이동한다.  
- 가입 이메일이 없는 경우 에러 메세지 모달을 띄워준다.
- 가입 비밀번호가 틀린 경우 에러 메세지 모달을 띄워준다.
- 유저가 없는 경우 에러 메세지 모달을 띄워준다. 
- 가입 과정에서 오류가 있는 경우 에러 메세지 모달을 띄워준다. 

### 5.2 메모 위치 선택을 위한 지도 위에 마커 띄우기
- 지도 위에 마커를 띄워서 해당 위치에 메모를 작성할 수 있다.

#### 5.2.1 사용자 위치 지도 마커 표시 
현재 위치 수집 허용 -> 현재 위치 파악 -> 지도에 마커 표시
/사진
- 위치 정보를 수집할 수 없으면 에러 메세지 모달을 띄워준다.
- 위치 수집 허용을 불허가하면 에러 메세지 모달을 띄워준다. 

#### 5.2.2 지도에 직접 지도 마커 표시
지도 위 특정 위치 클릭 -> 지도에 마커 표시 
/사진
- 지도 위를 직접 클릭을 하면 원하는 마커의 위치를 선택할 수 있다. 
- 선택 시 지도의 줌인을 통해 구체적인 지명을 확인할 수 있다. 

#### 5.2.3 검색으로 지도 마커 표시
장소 검색 -> 지도에 위치 결과 마커 표시
/사진
- 검색 후 결과로 지도 위 장소 위치에 마커가 표시된다. 

### 5.3 장소 검색
서치 폼에 장소 키워드 입력 -> 드롭다운에서 장소 클릭 -> 지도 줌 인 및 이동, 지도에 마커 표시
/사진
- 키워드 장소 입력 후 `300ms가 지나면` 드롭다운으로 검색된 장소 결과들이 나열되어 보여진다.
- 드롭다운 목록에서 원하는 장소를 클릭하면 지도가 줌인 되면서 해당 장소의 위치로 이동하고, 그곳에 마커가 표시된다. 
 
*코드: useQuery로 previouse data 저장

*코드: 디바운싱으로 api 호출 횟수 줄이기

### 5.4 마커의 기본 주소 및 도로명 주소 확인
마커 클릭 -> 로딩 -> 기본 주소 및 도로명 주소 인포윈도우 표시
/사진
- 기본 주소나 도로명 주소가 없는 경우 빈칸으로 표시가 된다.  
 
### 5.5 메모 추가
마커 클릭 -> 인포윈도우에서 메모 추가 클릭 -> 메모 추가 폼 오픈 -> 메모 입력 -> 메모 추가 버튼 클릭 -> 저장 및 `실시간으로` 지도에 사진 마커 표시
- 메모 입력 후 메모 추가 버튼을 클릭하면 저장 여부 확인 모달이 띄워진다. 확인 버튼을 누르면 성공적으로 저장이 되었다는 안내 모달과 함께 메모가 `실시간으로` 생성된다. 

#### 5.5.1 장소 이름
/사진
- 장소 이름의 경우 필수로 작성해야한다. 미 입력 후 메모 추가 버튼 클릭 시 안내 모달이 띄워진다. 
- 검색을 통해 표시된 마커에 메모를 추가를 하는 경우 장소 이름이 검색된 장소 이름으로 자동 입력된다. 또한 이는 변경이 가능하다.

#### 5.5.2 메모 내용 
* organizedText util 함수 코드

#### 5.5.3 해시태그 & 색상 변경
/사진
- 해시태그의 색상을 선택할 수 있다. 
- 중복되는 해시태그를 입력한 경우 자동으로 입력이 되지 않는다. 
- 입력한 해시태그를 클릭하면 해당 해시태그는 삭제가 된다. 

#### 5.5.4 주소 자동 입력
/사진
- 기본 주소와 도로명 주소는 자동으로 입력이 된다. 

#### 5.5.5 날짜 선택
/사진
- 하루를 선택할 수도, 기한으로 선택할 수도 있다. 

#### 5.5.6 사진 추가 
- 사진 업로드는 4장이 최대이다. 4장 이상 업로드를 하게 되면 에러 메세지 모달이 띄워진다. 
- 미리 보기로 사진과 이름을 확인할 수 있으며 삭제가 가능하다. 

### 5.6 메모 수정
메모 보기 폼에서 수정을 원하는 메모의 설정 클릭 -> 메모 수정 선택 -> 메모 수정 폼 오픈 -> 메모 수정 -> 메모 수정 버튼 클릭 -> 수정 및 `실시간으로` 지도에 사진 마커 수정
- 메모 입력 후 메모 수정 버튼을 클릭하면 수정 여부 확인 모달이 띄워진다. 수정 버튼을 누르면 성공적으로 수정이 되었다는 안내 모달과 함께 메모가 `실시간으로` 수정된다. 
/사진 
- 메모 수정 폼이 열리면서 메모의 여행 장소, 태그, 여행 날짜, 내용, 장소, 사진이 폼에 자동으로 표시된다. 

### 5.7 메모 보기
마커 클릭 -> 인포윈도우에서 메모 보기 클릭 -> 메모 보기 폼 오픈
/사진
- 선택한 마커의 위치에 저장했던 메모들이 나열되어 보여진다.
- 저장했던 메모의 여행 장소, 여행 날짜, 태그, 내용이 보여진다.  
- 업로드 날짜(~분 전, ~시간 전)가 메모의 하단에 표시된다. 

*updatedDate util함수 코드 

### 5.7.1 메모의 사진 크게 보기
- 메모의 사진을 클릭하면 사진을 큰 크기로 확인할 수 있다. 
- 두 개 이상의 사진의 경우 옆으로 넘기면서 확인할 수 있다. 

### 5.8 메모 삭제
메모 보기 폼에서 삭제를 원하는 메모의 설정 클릭 -> 메모 삭제 선택 -> 삭제 및 `실시간으로` 지도에서 사진 마커 제거
- 설정에서 메모 삭제를 선택하면 삭제 여부 확인 모달이 띄워진다. 확인 버튼을 누르면 메모가 `실시간으로` 삭제된다. 

### 5.9 모바일 화면
#### 5.9.1 로그인/회원가입

#### 5.9.2 장소 검색

#### 5.9.3 메모 추가

#### 5.9.4 메모 수정

#### 5.9.5 메모 보기

모달 메세지들
*코드: MessageModal의 코드

</div>
</details>

## 6. 구현 방법 및 트러블 슈팅
auth코드
W3C 정규 표현식으로 이메일 형식에 맞는 유효성 검사
정규 표현식을 사용해  최소 한 개 이상의 문자와 숫자로 8자 이상에 맞는 비밀번호 유효성 검사
firebase 로 이메일 및 비밀번호 회원가입 및 로그인 auth 기능 구현
